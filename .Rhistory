ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
install.packages("ggplot2")
install.packages("ggridges")
install.packages("bigrquery")
install.packages("plyr")
install.packages("tidyverse")
library(ggplot2)
library(ggridges)
library(plyr)
library(tidyverse)
mlabdata <- read.csv("~/Downloads/mlab-joyplot/results-20180228-155713.csv")
mlabdata <- read.csv("~/Downloads/mlab-joyplot/results-20180228-155713.csv")
mlabdata6 <- read.csv("~/ridgeline5.csv")
mlabdata6 <- read.csv("~/Dropbox/OTI/MLab/code/mlab-joyplot/ridgeline5.csv")
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = (log(max_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(4, 50)
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = dl_rd, y = as.factor(hour), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(-1, 15)
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata5, aes(x=hour, y=as.factor(yrqt), height = num_tests*.05, group = year)) +
geom_ridgeline(scale=.00007,stat = "identity") +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0))
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
library(ggplot2)
library(ggridges)
library(plyr)
library(tidyverse)
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
mlabdata6 <- read.csv("~/Dropbox/OTI/MLab/code/mlab-joyplot/ridgeline5.csv")
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
library(ggplot2)
library(ggridges)
mlabdata6 <- read.csv("~/Dropbox/OTI/MLab/code/mlab-joyplot/ridgeline5.csv")
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = dl_rd, y = as.factor(hour), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(-1, 15)
ggplot(mlabdata6, aes(x = num_tests, y = as.factor(hour), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(-250, 7500)
mlabdata5 <- read.csv("~/Downloads/mlab-joyplot/ridgeline.csv")
mlabdata5 <- read.csv("~/Dropbox/OTI/MLab/code/mlab-joyplot/ridgeline.csv")
ggplot(mlabdata5, aes(x=hour, y=as.factor(yrqt), height = num_tests*.05, group = year)) +
geom_ridgeline(scale=.00007,stat = "identity") +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0))
ggplot(mlabdata5, aes(x=hour, y=as.factor(yrqt), height = dl_rd*.25, group = year, fill=year)) +
geom_ridgeline(scale=1, stat = "identity", color="black") +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
labs(y="Global Download Median by Year",x="Hour")
ggplot(mlabdata5, aes(x=hour, y=as.factor(yrqt), height = num_tests*.05, group = year)) +
geom_ridgeline(scale=.00007,stat = "identity") +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0))
ggplot(mlabdata6, aes(x = day, y =year, group=as.factor(year), height=num_tests)) + geom_ridgeline()
library(ggplot2)
library(ggridges)
mlabdata6 <- read.csv("~/Dropbox/OTI/MLab/code/mlab-joyplot/ridgeline5.csv")
View(mlabdata6)
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)*log(num_tests)), y = as.factor(yrqt), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = hour, y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = hour, y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=(log(avg_dl_rd)*log(num_tests))) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = hour, y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="identity",scale=(log(avg_dl_rd)*log(num_tests))) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = hour, y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="identity",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = hour, y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = (log(avg_dl_rd)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = (avg_dl_rd), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 40)
ggplot(mlabdata6, aes(x = (avg_dl_rd), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 20)
ggplot(mlabdata6, aes(x = (avg_dl_rd), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabdata6, aes(x = (avg_dl_rd), y = as.factor(yrhalf), height=..density.., fill = hour)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabdata6, aes(x = (avg_dl_rd), y = as.factor(yrhalf), height=..density.., fill = yrqt)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabdata6, aes(x = (avg_dl_rd), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabdata6, aes(x = (log(max_dl_rd)*log(num_tests)), y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(4, 50)
ggplot(mlabdata6, aes(x = max_dl_rd, y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(4, 50)
ggplot(mlabdata6, aes(x = max_dl_rd, y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(-5, 20)
ggplot(mlabdata6, aes(x = max_dl_rd, y = as.factor(yrhalf), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(-5, 25)
ggplot(mlabdata6, aes(x = (avg_dl_rd), y = as.factor(hour), height=..density.., fill = year)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabdata6, aes(x = (avg_dl_rd), y = as.factor(hour), height=..density.., fill = hour)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabdata6, aes(x = (max_dl_rd), y = as.factor(hour), height=..density.., fill = hour)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabdata6, aes(x = (hour), y = as.factor(max_dl_rd), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
min(mlabdata6$avg_dl_rd)
max(mlabdata6$avg_dl_rd)
min(mlabdata6$max_dl_rd)
max(mlabdata6$max_dl_rd)
speedtiers <- c("0-10","10-20","20-30","30-40","40-50","50-60","60-70","70-80","80-90")
ggplot(mlabdata6, aes(x = (hour), y = as.factor(speedtiers), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
library(dplyr)
library(plyr)
with(data.frame(u = c(5,10,15,20,30,40,60,80,100),
lot1 = c(118,58,42,35,27,25,21,19,18),
lot2 = c(69,35,26,21,18,16,13,12,12)),
list(summary(glm(lot1 ~ log(u), family = Gamma)),
summary(glm(lot2 ~ log(u), family = Gamma))))
aq <- within(airquality, {     # Notice that multiple vars can be changed
lOzone <- log(Ozone)
Month <- factor(month.abb[Month])
cTemp <- round((Temp - 32) * 5/9, 1) # From Fahrenheit to Celsius
S.cT <- Solar.R / cTemp  # using the newly created variable
rm(Day, Temp)
})
head(aq)
head(airquality)
round(5,0)
round(15,0)
round(15,1)
round(15,2)
round(15,3)
help(round)
round(15,-3)
round(15,-2)
round(15,-1)
help("within")
mlabspeedtiers <- within(mlabdata6,{
avgtiers <- round(avg_dl_rd, -1)
maxtiers <- round(max_dl_rd, -1)
} )
View(mlabspeedtiers)
ggplot(mlabdata6, aes(x = (hour), y = as.factor(maxtiers), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers, aes(x = (hour), y = as.factor(maxtiers), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers, aes(x = (hour), y = as.factor(avgtiers), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers, aes(x = (avgtiers), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
mlabspeedtiers2 <- within(mlabdata6,{
avgtiers <- round(avg_dl_rd, 0)
maxtiers <- round(max_dl_rd, 0)
} )
ggplot(mlabspeedtiers2, aes(x = (avgtiers), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (maxtiers), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (hour), y = as.factor(maxtiers), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
mlabspeedtiers3 <- within(mlabdata6,{
avgtiers <- round(avg_dl_rd, 0.5)
maxtiers <- round(max_dl_rd, 0.5)
} )
View(mlabspeedtiers3)
ggplot(mlabspeedtiers2, aes(x = (hour), y = as.factor(avgtiers), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (avgtiers), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (maxtiers), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (log(maxtiers)*log(num_tests)), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (maxtiers*log(num_tests)), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (maxtiers), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (maxtiers), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="identity",scale=10) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (maxtiers), y = as.factor(hour), height=..density.., fill = max_dl_rd)) +
geom_density_ridges(stat="density",scale=10) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
ggplot(mlabspeedtiers2, aes(x = (maxtiers), y = as.factor(hour), height=..density.., fill = hour)) +
geom_density_ridges(stat="density",scale=5) +
theme_minimal(base_size = 11) +
theme(axis.text.y = element_text(vjust = 0)) +
theme(legend.position = "none") +
xlim(0, 15)
